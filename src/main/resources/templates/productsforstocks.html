<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/allProducts.css">
<title>Website Header</title>
</head>

<body>
	<div class="navbar">
		<img src="images/Natural Organic Green Tea Logo 1.png" alt=""
			class="logo">
		<div class="buttons">
			<a href="/home">Home</a>
			 <a href="/aboutus">About Us</a>
			  <a href="/allproducts">Products</a>
		</div>
		<div class="searcharea">
			<input type="text" class="search" placeholder="Search..."></input> <a
				href="/search"><img src="images/searchicon.png"
				class="searchicon" alt="search"></a>
		</div>

		<a href="" class="login">LOGIN</a>
	</div>

	<div class="container">
	<p th:if="${error}" style="color: red;"
		th:text="${error}"></p>
	<p th:if="${success}" style="color: green;"
		th:text="${success}"></p>
		<span class="headingbody"> BROWSE PRODUCT </span>
		<div th:each="chunk : ${partitionedProducts}" class="whole-container">
			<div class="product-container">
				<div th:each="product : ${chunk}">
					<form action="#" onsubmit="return handleSubmit(this);" method="get">
						<a href="#" onclick="return false;" class="product"> <img
							th:src="@{${product.imagePath}}" alt="" class="thumbnail" /> <br>
							<span class="name" th:text="${product.name}"></span> <br> <span
							class="price" th:text="'Rs. ' + ${product.price}"></span> <br>
						</a> <input type="number" required name="stocktoadd"
							placeholder="Enter added Stock"> <input type="hidden"
							name="id" th:value="${product.id}">
						<button type="submit" class="hidden-submit-button">Submit</button>
					</form>
				</div>



			</div>
		</div>

	</div>

	<footer class="footer">
		<div class="footer-content">
			<div class="footer-logo">
				<img src="images/Natural Organic Green Tea Logo 1.png"
					alt="Chiya Sansar Logo" class="logo">
				<!-- Replace with your logo path -->

			</div>
			<div class="footer-contact">
				<h4>Contact Information</h4>
				<p>Phone: 01-41414141</p>
				<p>Email: chiyasansar@gmail.com</p>
				<div class="social-icons">
					<a href="#"><img src="images/download 48.png" alt="Facebook"></a>
					<!-- Replace icons with actual paths -->
					<a href="#"><img src="images/download 49.png" alt="Instagram"></a>
				</div>
			</div>
			<div class="footer-contact">
				<h4>Contact Information</h4>
				<p>Phone: 01-41414141</p>
			</div>
			<div class="footer-credits">
				<h4>Website Created by</h4>
				<p>Pragya Chauhan & Sameer Khatri</p>
			</div>
		</div>

		<div class="footer-bottom">
			<hr>
			<p>&copy; 2024 by Chiya Sansar | All rights Reserved |</p>
		</div>
	</footer>
</body>
<script>
	function handleSubmit(form) {
		const stockInput = form.querySelector('input[name="stocktoadd"]');
		if (!stockInput.value) {
			alert("Please enter the stock amount.");
			return false;
		}

		// Redirect to the desired URL with query parameters
		const id = form.querySelector('input[name="id"]').value;
		const stockValue = stockInput.value;
		window.location.href = `/productforstock?id=${id}&stocktoadd=${stockValue}`;
		return false; // Prevent the default form submission
	}
</script>

</html>